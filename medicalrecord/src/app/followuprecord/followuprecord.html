<div class="dossier-container">
  <h2>Dossier de Suivi</h2>

  <form [formGroup]="dossierForm" (ngSubmit)="onSubmit()">

    <label for="id">ID*</label>
    <input type="number" id="id" formControlName="id">

    <label for="pathology">Pathologie*</label>
    <input type="text" id="pathology" formControlName="pathology">

    <label for="startdate">Date de début*</label>
    <input type="date" id="startdate" formControlName="start_date">

    <label for="enddate">Date de fin</label>
    <input type="date" id="enddate" formControlName="end_date">

    <label for="status">État*</label>
    <select id="status" formControlName="status">
      <option value="" disabled selected>Sélectionner un état</option>
      <option value="En cours">En cours</option>
      <option value="Terminé">Terminé</option>
      <option value="En pause">En pause</option>
    </select>

    <h3>Prescriptions</h3>
    <div class="list">
      @for (doc of prescriptions.controls; let i = $index ; track i){
           <div class="doc-item">
        <!---<input type="text" [formControl]="doc.get('name')" placeholder="Nom du document">
        <input type="text" [formControl]="doc.get('url')" placeholder="URL du document">-->
        <button type="button" (click)="removePrescription(i)">Supprimer</button>
      </div>
      }
    </div>
    <button type="button" class="add" (click)="addPrescription()">+ Ajouter une prescription</button>

    <h3>Documents Médicaux</h3>
    <div class="list">
      @for (doc of documentsMedicaux.controls; let i = $index ; track i){
        <div class="doc-item">
          <!--<input type="text" [formControl]="doc.get('name')" placeholder="Nom du document">
          <input type="text" [formControl]="doc.get('url')" placeholder="URL du document">-->
          <button type="button" (click)="removeMedicalDoc(i)">Supprimer</button>
        </div>
      }
    </div>
    <button type="button" class="add" (click)="addMedicalDoc()">+ Ajouter un document</button>


    <button class="submit-btn" type="submit">Enregistrer</button>
  </form>
  <div class="retour-container">
    <button class="btn-retour" onclick="history.back()">⟵ Retour</button>
  </div>
</div>
